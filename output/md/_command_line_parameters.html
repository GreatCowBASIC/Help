<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Command Line Parameters</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="index.html" title="GCBASIC documentation"><link rel="prev" href="_changes.html" title="Changes"><link rel="next" href="_frequent_errors.html" title="Frequent errors"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_command_line_parameters"></a>Command Line Parameters</h2></div></div></div><p><span class="strong"><strong>About the Command Line Parameters</strong></span></p><pre class="screen">    GCBASIC [/O:output.asm] [/A:assembler] [/P:programmer] [/K:{C|A}] [/H:[Y/1 | N/0]] [/V] [/L] [/NP] [/M:[Y/1 | N/0]]  <span class="emphasis"><em>filename</em></span>

    GCBASIC [/O:output.asm] [/A:assembler] [/P:programmer] [/K:{C|A}] [/H:[Y/1 | N/0]] [/V] [/L] [/WX] [/M:[Y/1 | N/0]] [/NP] <span class="emphasis"><em>filename</em></span>

    GCBASIC [/O:output.asm] [/A:assembler] [/P:programmer] [/K:{C|A}] [/H:[Y/1 | N/0]] [/V] [/L] [/WX] [/M:[Y/1 | N/0]] [/S:Use.ini] [/NP] <span class="emphasis"><em>filename</em></span>

    GCBASIC [/O:output.asm] [/A:assembler] [/P:programmer] [/K:{C|A}] [/H:[Y/1 | N/0]] [/V] [/L] [/WX] [/M:[Y/1 | N/0]]  [/S:Use.ini] [/F[O]] [/NP] <span class="emphasis"><em>filename</em></span>

    GCBASIC /version</pre><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Switch</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Description</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">/O:<span class="emphasis"><em>filename</em></span></code></p></td><td align="left" valign="top"><p>Sets the name of the assembly file generated to <code class="literal"><span class="emphasis"><em>filename</em></span></code>.</p></td><td align="left" valign="top"><p>Same name as the input file, but with a <code class="literal">.asm</code> extension.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/A:assembler</code></p></td><td align="left" valign="top"><p>Batch file used to call assembler<sup>(1)</sup>. If <code class="literal">/A:GCASM</code> is given, GCBASIC will use its internal assembler.</p></td><td align="left" valign="top"><p>The program will not be assembled</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/CP</code></p></td><td align="left" valign="top"><p>Exports the config bits automatically selected by the compiler to an output file called <code class="literal">source_filename.config</code>.  The output file is the source filename with the extension of config.</p></td><td align="left" valign="top"><p>None</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/H:[Y/1 | N/0]</code></p></td><td align="left" valign="top"><p>Set the production, or not, of the hex output file.  /H:1 is the default.  To prevent production of the hex output file - use /H:0</p></td><td align="left" valign="top"><p>The default is to produce the hex output file</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/M:[Y/1 | N/0]</code></p></td><td align="left" valign="top"><p>Mute the banner messages, or not.  /M:1 is the default.  To prevent banner messages - use /M:0</p></td><td align="left" valign="top"><p>The default is to output banner messages</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/P:programmer</code></p></td><td align="left" valign="top"><p>Batch file used to call programmer<sup>(1)</sup>. This parameter is ignored if the program is not assembled.</p></td><td align="left" valign="top"><p>The program will not be downloaded.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/K:[C|A]</code></p></td><td align="left" valign="top"><p>Keep original code in assembly output. <code class="literal">/K:C</code> will save comments, <code class="literal">/K:A</code> will preserve all input code.</p></td><td align="left" valign="top"><p>No original code left in output.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/V[:[0|F][1|T]</code></p></td><td align="left" valign="top"><p>Verbose mode - compiler gives more detailed information about its activities.
/Vx will overide any configuration in the user ini file.</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/L</code></p></td><td align="left" valign="top"><p>Show license and exit.</p></td><td align="left" valign="top"><p>-</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/NP</code></p></td><td align="left" valign="top"><p>Do not pause on errors. Use with IDEs.</p></td><td align="left" valign="top"><p>Pause when an error occurs, and wait for the user to press a key.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/WX</code></p></td><td align="left" valign="top"><p>Force compiler to ensure all include files are valid.</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">/version</code></p></td><td align="left" valign="top"><p>Shown build date and version of the compiler.</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">/S:fsp</code></p></td><td align="left" valign="top"><p>Load the settings from a specified file, rather than use the defaults.</p></td><td align="left" valign="top"><p>/S:use.ini</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">/F[:[0|F][1|T]</code></p></td><td align="left" valign="top"><p>Used to bypass compilation when not needed, compiler will verify that config settings in the already compiled file match those required for the programmer. If not, a recompilation will be forced.
 Skip compilation if the hex file is up to date and has correct config.
/F:x ( F or 0) to force a fresh compile regardless of what ini specifies.</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">/FO</code></p></td><td align="left" valign="top"><p>Used to bypass compilation and program only.  Compiler will verify that config settings in the already compiled file match those required for the programmer. If not, a recompilation will be forced.</p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">filename</code></p></td><td align="left" valign="top"><p>The file to compile.</p></td><td align="left" valign="top"><p>-</p></td></tr></tbody></table></div><p><span class="small"><sup>(1)</sup> For the <code class="literal">/A:</code> and <code class="literal">/P:</code> switches, there are special options available. If
<code class="literal">%FILENAME%</code> is present, it will be replaced by the name of the <code class="literal">.asm</code> file.
<code class="literal">%FN_NOEXT%</code> will be replaced by the name of the <code class="literal">.asm</code> file but without an
extension, and <code class="literal">%CHIPMODEL%</code> will be replaced with the name of the chip.
The name of the chip will be the same as that on the chip data file.</span></p><p>A batch file to load the <code class="literal">ASM</code> from GCBASIC into <code class="literal">MPASM</code>. Command line should be like this:</p><pre class="screen">    C:\progra~1\microc~1\mpasms~1\MPASMWIN /c- /o- /q+ /l- /x- /w1 %code%.asm</pre><p>A batch file to compile in GCBASIC then load the <code class="literal">ASM</code> from GCBASIC into <code class="literal">GPASM</code>. Command line should be like this:</p><pre class="screen">    gcbasic.exe %1 /NP /K:A /A:"..\gputils\bin\gpasm.exe %~d1%~p1%~n1.asm"</pre><p>To instruct MAKEHEX.BAT to use <code class="literal">GPASM</code>.   You have GPUTILS installed.  The batch file should be edited as follows:</p><pre class="screen">    REM Create the ASM
    gcbasic.exe /NP /K:A %1
    REM Use GPASM piping to the GCB error log
    gpasm.exe "%~d1%~p1%~n1.asm" -k -i -w1 &gt;&gt; errors.txt</pre><p>To summarise, you can use any of the following:</p><pre class="screen">    gcbasic.exe filetocompile.gcb /A:GCASM /P:"icprog -L%FILENAME%" /V /O:compiled.asm</pre><p>GCBASIC will compile the file, then assemble the program, and run this command:</p><pre class="screen">    `icprog -Lcompiled.hex`</pre><p>You can also create/edit the gcbasic.ini file :</p><pre class="screen">Assembler settings
    Assembler = C:\Program Files\Microchip\MPASM Suite\mpasmwin
    AssemblerParams = /c- /o- /q+ /l+ /x- /w1 "%FileName%"

Programmer settings
    Programmer = C:\Program Files\WinPic\Winpic.exe
    ProgrammerParams = /device=PIC%ChipModel% /p "%FileName%"</pre><p>This example will use MPASM to assemble the program. It will run the program specified in the assembler = line, and give it these parameters:</p><pre class="screen">    `/c- /o- /q+ /l+ /x- /w1 "compiled.asm"`</pre><p>Then, it will run the programmer, and give it these parameters when it calls it:</p><pre class="screen">    `/device=PIC16F88 /p "compiled.hex"`</pre><p><code class="literal">%ChipModel%</code> will get replaced with the chip you are using, so this the chip GCBASIC will pass to WinPIC.</p><p><span class="strong"><strong>Errors.txt</strong></span></p><p>The compiler only produces the file errors.txt if there is an error. The creation of the errors.txt file makes it easier for IDEs to detect if the program compiled successfully - if the file was not produced then the IDE would be unalbe to present the error message to the user.</p><p>The file error.txt is always produced in the same folder as the compiler.  Typically: C:\GCStudio\GCBASIC\Errors.txt</p><p><span class="strong"><strong>USE.INI</strong></span></p><p>USE.INI is the provided setup file for the compiler.&nbsp;&nbsp;The name of <code class="literal">use.ini</code> is historic and of no relevance.</p><p>USE.INI is generally updated by using the <code class="literal">PREFERENCES EDITOR</code>.&nbsp;&nbsp;</p><p>USE.INI is self documenting and open <code class="literal">use.ini</code> in an editor will shown the full capabilities of setting file.</p><p>The details below show the self documentation in a typical <code class="literal">use.ini</code></p><pre class="screen">Preferences file for GC BASIC
Location: GCB install (or custom) dir

Documentation for the [gcbasic] section of the use.ini file
    programmer = arduinouno   - the currently selected available programmers
    showprogresscounters = n  - show percent values as compiler runs. requires Verbose = y
    verbose = y               - show verbose compiler information
    preserve = n              - preservice source program in ASM
    warningsaserrors = n      - treat Warnings from scripts as errors.
    pauseaftercompile = n     - pause after compiler. Do not do this with IDEs
    flashonly = n             - Flash the chip is source older that hex file
    assembler = GCASM         - currently selected Assembler
    hexappendgcbmessage = n   - appends a message in the HEX file
    laxsyntax = n             - use lax syntax when Y, the compiler will not check that reserved words
    mutebanners = n           - mutes the post compilation messages
    evbs = n                  - show extra verbose compiler information, requires Verbose = y
    nosummary = n             - mutes almost all messages psot compilation
    extendedverbosemessages = n  - show even more verbose compiler information, requires Verbose = y
    conditionaldebugfile =    - creates CDF file
    columnwidth = 180         - ASM width before wrapping
    picasdebug = n            - adds PIC-AS preprocessor message to .S file
    datfileinspection = y     - inspects DAT for memory validation
    methodstructuredebug  = n - show method structure start &amp; end for validation
    floatcapability =  1      - 1 = singles
                             - 2 = doubles
                             - 4 = longint
                             - 8 = uLongINT
    compilerdebug =  0       - 1 = COMPILECALCADD
                             - 2 = VAR SET
                             - 4 = CALCOPS
                             - 8 = COMPILECALCMULT
                             - 16 = AUTOPINDIR
                             - 32 = ADRDX
                             - 64 = GCASM</pre></div></body></html>