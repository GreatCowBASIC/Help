<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>LCD_IO 3</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_lcd_overview.html" title="LCD Overview"><link rel="prev" href="_lcd_io_2.html" title="LCD_IO 2"><link rel="next" href="_lcd_io_2_74xx174.html" title="LCD_IO 2_74xx174"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_lcd_io_3"></a>LCD_IO 3</h5></div></div></div><p><span class="strong"><strong>Using connection mode 3:</strong></span></p><p>This method uses a Data and a Clock line via a shift register to control the LCD display plus an Enable line.
This method is used when the LCD is connected through a shift register IC using a LS74574.</p><p>This connection method is also called a 3-wire connection.</p><p>The diagram below shows a method to connect the LCD  to a microcontroller.</p><p><span class="inlinemediaobject"><img src="./images/lcd_io3.jpg" alt="graphic"></span></p><p><span class="strong"><strong>Relevant Constants:</strong></span></p><p>Specific constants are used to control settings for the Liquid Crystal Display routines included with GCBASIC. To set these constants the main program should specific constants to support the connection mode using #define.
When using 3-bit mode only three constants must be set.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constant Name</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Default Value</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">LCD_IO</code></p></td><td align="left" valign="top"><p>The I/O mode.</p></td><td align="left" valign="top"><p><code class="literal">3</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">LCD_DB</code></p></td><td align="left" valign="top"><p>The data pin used in 3-bit mode.</p></td><td align="left" valign="top"><p><span class="strong"><strong>Mandated</strong></span></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">LCD_CB</code></p></td><td align="left" valign="top"><p>The clock pin used in 3- bit mode.</p></td><td align="left" valign="top"><p><span class="strong"><strong>Mandated</strong></span></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">LCD_EB</code></p></td><td align="left" valign="top"><p>The enable pin used in 3- bit mode.</p></td><td align="left" valign="top"><p><span class="strong"><strong>Mandated</strong></span></p></td></tr></tbody></table></div><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    #chip 16f628a, 4
    #option explicit

    ;Setup LCD Parameters
    #define LCD_IO 3

    'Change ports as necessary
    #define LCD_DB     PORTb.3            ; databit
    #define LCD_CB     PORTb.4            ; clockbit
    #define LCD_EB     PORTa.0            ; enable bit

      Dim BV as Byte


    'Program Start

     PRINT "GCBASIC"
     Locate 1,0
     PRINT "@2021"
     Wait 4 s

      DO Forever
           CLS
           WAIT 2 s
           PRINT "Test LCDHex "
           wait 3 s
           CLS
           wait 1 s


       for bv = 0 to 16
         locate 0,0
         Print "DEC " : Print BV
         locate 1,0
         Print "HEX "
         LCDHex BV
         Locate 1, 8
         LCDHEX BV, LeadingZeroActive

         wait 500 ms
       next
           CLS
           wait 1 s
           Print "END TEST"
      LOOP</pre><p>See the separate sections of the Help file for the specifics of each
Connection Mode.</p><p><span class="strong"><strong>For more help, see</strong></span>
<a class="link" href="_lcd_io_0.html" title="LCD_IO 0">LCD_IO 0</a>, <a class="link" href="_lcd_io_1.html" title="LCD_IO 1">LCD_IO 1</a>,
<a class="link" href="_lcd_io_2_74xx164.html" title="LCD_IO 2_74xx164">LCD_IO 2_74xx164</a>, <a class="link" href="_lcd_io_2_74xx174.html" title="LCD_IO 2_74xx174">LCD_IO 2_74xx174</a>,
<a class="link" href="_lcd_io_4.html" title="LCD_IO 4">LCD_IO 4</a>, <a class="link" href="_lcd_io_8.html" title="LCD_IO 8">LCD_IO 8</a>,
<a class="link" href="_lcd_io_10.html" title="LCD_IO 10">LCD_IO 10</a> or <a class="link" href="_lcd_io_12.html" title="LCD_IO 12">LCD_IO 12</a></p></div></body></html>