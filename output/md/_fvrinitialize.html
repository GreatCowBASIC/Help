<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>FVRInitialize</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_fixed_voltage_reference.html" title="Fixed Voltage Reference"><link rel="prev" href="_fixed_voltage_reference.html" title="Fixed Voltage Reference"><link rel="next" href="_fvrisoutputready.html" title="FVRIsOutputReady"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="_fvrinitialize"></a>FVRInitialize</h4></div></div></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="screen">    FVRInitialize ( FVR_OFF | FVR_1x | FVR_2x | FVR_4x  )</pre><p><span class="strong"><strong>Command Availability:</strong></span></p><p>Available on all Microchip microcontrollers with the  Fixed Voltage Reference (FVR) module.</p><p><span class="strong"><strong>Explanation:</strong></span></p><p>The method is a subroutine that sets the state of the FVR.&nbsp;&nbsp;&nbsp;</p><p><code class="literal">FVR_Off</code>&nbsp;=&nbsp;&nbsp;Fixed Voltage Reference is set to OFF</p><p><code class="literal">FVR_1x</code>&nbsp;&nbsp;=&nbsp; Fixed Voltage Reference is set to 1.024v</p><p><code class="literal">FVR_2x</code>&nbsp;&nbsp;=&nbsp; Fixed Voltage Reference is set to 2.048v</p><p><code class="literal">FVR_4x</code>&nbsp;&nbsp;=&nbsp; Fixed Voltage Reference is set to 4.096v</p><p>Using the the following device&#8217;s datasheet, as a general case, &nbsp;&nbsp;&nbsp;<a class="link" href="http://ww1.microchip.com/downloads/en/DeviceDoc/40001419F.pdf" target="_top">http://ww1.microchip.com/downloads/en/DeviceDoc/40001419F.pdf</a> &nbsp;&nbsp;&nbsp;that can be downloaded from the device&#8217;s page,&nbsp;&nbsp;&nbsp;<a class="link" href="http://www.microchip.com/wwwproducts/en/pic16f1828" target="_top">http://www.microchip.com/wwwproducts/en/pic16f1828</a>
parameter AD06 in table 30-8 at page 359, and the corresponding Note 4, tell us that the Vref voltage (Vref+ minus Vref-) should not be less than 1.8V, regardless of the reference voltage used, in order for the ADC module to work within the datasheet specifications.
&nbsp;&nbsp;Also, as Vref- cannot be a negative voltage (voltages below GND) the lowest voltage on it is 0V. &nbsp;&nbsp;Then an FVR of 1.024V cannot be used as VREF+ for the ADC, but only 2.048 and 4.098 values.</p><p>The 1.024V FVR value exists for usage with other modules not just the ADC module.</p><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    '// use FVR 4096 as Reference
    FVRInitialize ( FVR_4x )
    wait while FVRIsOutputReady = false
    ADVal = ReadAd(AN0)

    '// Turn off FVR
    FVRInitialize ( FVR_Off )</pre><p><span class="strong"><strong>For more help, see</strong></span> <a class="link" href="_fvrisoutputready.html" title="FVRIsOutputReady">FVRIsOutputReady</a></p></div></body></html>