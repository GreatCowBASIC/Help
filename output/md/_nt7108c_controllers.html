<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>NT7108C Controllers</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_glcd_overview.html" title="GLCD Overview"><link rel="prev" href="_nextion_controllers.html" title="NEXTION Controllers"><link rel="next" href="_pcd8544_controllers.html" title="PCD8544 Controllers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_nt7108c_controllers"></a>NT7108C Controllers</h5></div></div></div><p>This section covers GLCD devices that use the NT7108C graphics controller.
<br>
<br>
The NT7108C is an GLCD is driven by on-board 5V parallel interface chipset NT7108C.&nbsp;&nbsp;&nbsp;They are similar to the KS0108.
<br>
<br>
The GLCD controller is the Winstar WDG0151-TMI module, which is a 128&times;64 pixel monochromatic display.&nbsp;&nbsp;&nbsp;
It uses two Neotic display controller chips: NT7108C and NT7107C, which are similar with Samsung KS0108B and KS0107B controllers.&nbsp;&nbsp;&nbsp;
The controller uses a dot matrix LCD segment driver with 64 channel output, and therefore, the WDG0151 module contains two sets of it to drive 128 segments.
<br>
<br>
The GCBASIC constants shown below control the configuration of the NT7108C controller.&nbsp;&nbsp;&nbsp;
The connectivity options are as follows, This is required between the microcontroller and the GLCD to control the data bus.:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">A  full port mode.&nbsp;&nbsp; Where a full data port therefore eight contiguous port.bits.&nbsp;&nbsp;  The port is used the data communications.</li><li class="listitem">Eight port.bits mode.&nbsp;&nbsp;  This option allows for greater flexibility with the configuration but will operate slower then the full port mode.&nbsp;&nbsp;    These port.bits are used the data communications.
<br>
To use the NT7108C driver simply include the following in your user code.  This will initialise the driver.
<br>
<br></li></ul></div><pre class="screen">    ;Full port mode
    #include &lt;glcd.h&gt;
    #DEFINE GLCD_TYPE GLCD_TYPE_NT7108C


   #define GLCD_DATA_PORT PORTD       'Data Port

   #define GLCD_CS1 PORTC.1           'CS1 control line
   #define GLCD_CS2 PORTC.0           'CS2 control line
   #define GLCD_RS PORTe.0            'RS control line
   #define GLCD_Enable PORTe.2        'Enable control line
   #define GLCD_RW PORTc.3            'RW control line
   #define GLCD_RESET PORTC.2         'Reset control line</pre><p>or</p><pre class="screen">    ;Eight port.bits mode
    #include &lt;glcd.h&gt;
    #DEFINE GLCD_TYPE GLCD_TYPE_NT7108C


    ;Defines (Constants)
    ;Define port as 8 port,bit(s)
    #define GLCD_DB0 PORTA.2    'Data Port.bit 0
    #define GLCD_DB1 PORTC.0    'Data Port.bit 1
    #define GLCD_DB2 PORTC.1    'Data Port.bit 2
    #define GLCD_DB3 PORTC.2    'Data Port.bit 3
    #define GLCD_DB4 PORTB.4    'Data Port.bit 4
    #define GLCD_DB5 PORTB.5    'Data Port.bit 5
    #define GLCD_DB6 PORTB.6    'Data Port.bit 6
    #define GLCD_DB7 PORTB.7    'Data Port.bit 7
    ;End of define as 8 port,bit(s)

    #define GLCD_CS1 PORTC.7    'CS1 control line
    #define GLCD_CS2 PORTC.6    'CS2 control line
    #define GLCD_RS PORTC.5     'RS control line
    #define GLCD_ENABLE PORTA.4 'Enable control line
    #define GLCD_RW PORTC.4     'RW control line
    #define GLCD_RESET PORTC.3  'Reset control line</pre><p>The GCBASIC constants for the interface to the controller are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Options</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_TYPE</code></p></td><td align="left" valign="top"><p><code class="literal">GLCD_TYPE_NT7108C</code></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RS</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Register Select on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RW</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Read/Write on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS1</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">CS1</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS2</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">CS2</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_ENABLE</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">Enable</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p>Full port mode</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DATA_PORT</code></p></td><td align="left" valign="top"><p>Specifies the port that is connected to 8 connections on the GLCD.</p></td><td align="left" valign="top"><p>Required when using full port mode</p></td></tr><tr><td align="left" valign="top"><p>Eight port.bits mode</p></td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB0</code><br>
<code class="literal">GLCD_DB1</code><br>
..<br>
<code class="literal">GLCD_DB7</code></p></td><td align="left" valign="top"><p>Specifies the port.bit that is connected to a single connection on the GLCD.</p></td><td align="left" valign="top"><p>Required when using eight port.bits mode</p></td></tr></tbody></table></div><p>The GCBASIC constants defined for the controller type are shown in the table below.  The NT7108C is very sensitive to clock timings.&nbsp;&nbsp;&nbsp;You may to adjust the clock timing to ensure the display operates correctly.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="center" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_WIDTH</code></p></td><td align="left" valign="top"><p>The width parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">128</code>
This constant cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_HEIGHT</code></p></td><td align="left" valign="top"><p>The height parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">64</code>
This constant cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDirection</code></p></td><td align="left" valign="top"><p>Defining this will invert the Y Axis</p></td><td align="center" valign="top"><p>Not defined</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">NT7108CReadDelay</code></p></td><td align="left" valign="top"><p>Read delay</p></td><td align="center" valign="top"><p>Default is 7
</p><p>Can be set to improve overall performance.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">NT7108CWriteDelay</code></p></td><td align="left" valign="top"><p>Write delay</p></td><td align="center" valign="top"><p>Default is 7
</p><p>Can be set to improve performance.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">NT7108CClockDelay</code></p></td><td align="left" valign="top"><p>Clock Delay</p></td><td align="center" valign="top"><p>Default is 7
</p><p>Can be set to improve performance.</p></td></tr></tbody></table></div><p>The GCBASIC constants for control display characteristics are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Variables</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="center" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCDFontWidth</code></p></td><td align="left" valign="top"><p>Width of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 6 pixels.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDfntDefault</code></p></td><td align="left" valign="top"><p>Size of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 0.
</p><p>This equates to the standard GCB font set.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDfntDefaultsize</code></p></td><td align="left" valign="top"><p>Size of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 1.
</p><p>This equates to the 8 pixel high.</p></td></tr></tbody></table></div><p>The GCBASIC commands supported for this GLCD are shown in the
table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Command</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Purpose</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Example</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td><td align="left" valign="top"><p>Clear screen of GLCD</p></td><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDPrint</code></p></td><td align="left" valign="top"><p>Print string of characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDPrint( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawChar</code></p></td><td align="left" valign="top"><p>Print character on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawChar( Xposition, Yposition, CharCode )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawString</code></p></td><td align="left" valign="top"><p>Print characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawString( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Box</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size</p></td><td align="left" valign="top"><p><code class="literal">Box ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour as 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">FilledBox</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size that is filled with the
foreground colour.</p></td><td align="left" valign="top"><p><code class="literal">FilledBox (Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Line</code></p></td><td align="left" valign="top"><p>Draw a line on the GLCD to a specific length that is filled with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">Line ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">PSet</code></p></td><td align="left" valign="top"><p>Set a pixel on the GLCD at a specific position that is set with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">PSet(Xposition, Yposition, Pixel Colour 0 or 1)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDWriteByte</code></p></td><td align="left" valign="top"><p>Set a byte value to the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">GLCDWriteByte ( LCDByte)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDReadByte</code></p></td><td align="left" valign="top"><p>Read a byte value from the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">bytevariable = GLCDReadByte</code></p></td></tr></tbody></table></div><p>For a NT7108C datasheet, please refer
<a class="link" href="http://www.farnell.com/datasheets/1878006.pdf" target="_top">here.</a></p><p>This example shows how to drive a NT7108C based Graphic LCD module with
the built in commands of GCBASIC. See <a class="link" href="https://github.com/Anobium/Great-Cow-BASIC-Demonstration-Sources/" target="_top">Graphic LCD</a> for
details, this is an external web site.</p><pre class="screen">  ;Chip Settings
  #chip 16F1939,32
  #option explicit
  #config MCLRE_On

   #include &lt;glcd.h&gt;
   #define GLCD_TYPE GLCD_TYPE_NT7108C               ' Specify the GLCD type
   #define GLCDDirection 0                           ' Flip the GLCD   0 do not flip, 1 flip

   'Setup the device
   #define GLCD_CS1 PORTC.1    'D12 to actually since CS1, CS2 can be reversed on some devices
   #define GLCD_CS2 PORTC.0
   #define GLCD_DATA_PORT PORTD
   #define GLCD_RS PORTe.0
   #define GLCD_Enable PORTe.2
   #define GLCD_RW PORTc.3
   #define GLCD_RESET PORTC.2

   GLCDPrint ( 4,   1, "GCBASIC 2021")                                ; Print some text

   Box  0, 0, 127, 10
   Line 63, 10, 63, 63
   Line 0, 37, 127, 37
   Circle 63, 37, 15

   End</pre><p><span class="strong"><strong>For more help, see</strong></span>
<a class="link" href="_glcdcls.html" title="GLCDCLS">GLCDCLS</a>, <a class="link" href="_glcddrawchar.html" title="GLCDDrawChar">GLCDDrawChar</a>, <a class="link" href="_glcdprint.html" title="GLCDPrint">GLCDPrint</a>, <a class="link" href="_glcdreadbyte.html" title="GLCDReadByte">GLCDReadByte</a>, <a class="link" href="_glcdwritebyte.html" title="GLCDWriteByte">GLCDWriteByte</a> or <a class="link" href="_pset.html" title="Pset">Pset</a></p><p>Supported in &lt;GLCD.H&gt;</p></div></body></html>