<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Overview - Raspberry Pi</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_gcbasic_for_arm_pi.html" title="GCBASIC for ARM &amp; Pi"><link rel="prev" href="_gcbasic_for_arm_pi.html" title="GCBASIC for ARM &amp; Pi"><link rel="next" href="_gcbasic_for_apple_macos.html" title="GCBASIC for Apple macOS"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_overview_raspberry_pi"></a>Overview - Raspberry Pi</h3></div></div></div><p><span class="strong"><strong>Introduction:</strong></span></p><p>GCBASIC can be used when using the Raspberry Pi.</p><p>You can install the command-line version of GCBASIC on a Raspberry Pi (and similar single-board computers) and use it to compile your GCBASIC programs.</p><p>You can also program most PICs and AVRs using only the Pi&#8217;s GPIO pins (see <a class="xref" href="">???</a>), as well as communicate with your device over the Pi&#8217;s serial port.  This makes it easy to program, modify, and communicate with a PIC or AVR using just a Pi and an SSH connection.</p><p>GCBASIC is not published for ARM-based computers, there is currently no pre-compiled version for ARM-based computers, so you will have to compile it from source.  The GCBASIC compiler is written in <a class="link" href="https://www.freebasic.net/" target="_top">FreeBASIC</a> (an open-source version of BASIC), so you will need to first install the FreeBASIC compiler on your Pi, then use it to compile the GCBASIC compiler from its source code.  This is relatively simple.</p><p>FreeBASIC is not included in any of the major Linux repositories, but there is a customized version for ARMv7 boards like the Raspberry Pi on their <a class="link" href="https://users.freebasic-portal.de/stw/builds/linux-armv7a-hf-debian/" target="_top">web site</a>.</p><p>The following procedure will work with any ARMv7 single-board computer running a Debian derivative like <a class="link" href="https://www.raspberrypi.org/downloads/raspberry-pi-os/" target="_top">Raspberry Pi OS </a> or <a class="link" href="https://www.armbian.com/" target="_top">Armbian</a>.  This includes the Raspberry Pi 2 and 3, and all single board computers with an Allwinner H2+ or H3 microprocessor (Orange Pi PC, Orange Pi Zero, Nano Pi R1, etc).  It has not been tested with a Raspberry Pi 4.</p><p><span class="strong"><strong>Instructions:</strong></span></p><p>All commands should be performed on your Pi board, either through a remote SSH terminal or using a keyboard and monitor connected to your Pi.</p><p><span class="emphasis"><em>Installing FreeBASIC</em></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Install FreeBASIC dependencies</li></ol></div><pre class="screen">    $ sudo apt-get install libx11-dev libxext-dev libxpm-dev libxrandr-dev libncurses5 libncurses5-dev</pre><div class="orderedlist"><ol class="orderedlist" start="2" type="1"><li class="listitem">Download the latest version FreeBASIC for ARMv7 from <a class="link" href="https://users.freebasic-portal.de/stw/builds/linux-armv7a-hf-debian/" target="_top">https://users.freebasic-portal.de/stw/builds/linux-armv7a-hf-debian/</a> :</li></ol></div><pre class="screen">    $ cd ~
    $ wget https://users.freebasic-portal.de/stw/builds/linux-armv7a-hf-debian/fbc_linux_armv7a_hf_debian_0376_2020-09-17.zip
    $ unzip fbc_linux_armv7a_hf_debian_0376_2020-09-17.zip</pre><div class="orderedlist"><ol class="orderedlist" start="3" type="1"><li class="listitem">Install FreeBASIC</li></ol></div><pre class="screen">  $ cd fbc_linux_armv7a_hf_debian/
  $ chmod +x install.sh
  $ sudo ./install.sh -i</pre><p><span class="emphasis"><em>Installing GCBASIC</em></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Download and extract the GCBASIC sources:</li></ol></div><pre class="screen">    $ wget "https://downloads.sourceforge.net/project/gcbasic/GCBasic%20-%20Linux%20Distribution/GCB%40Syn.rar"
    $ sudo apt install unar
    # the password when requested in the next step is "GCB"
    $ unar GCBASIC.rar
    $ cd GCBASIC/sources/linuxbuild/</pre><div class="orderedlist"><ol class="orderedlist" start="2" type="1"><li class="listitem">Build and install the compiler:</li></ol></div><pre class="screen">    $ chmod +x install.sh
    $ ./install.sh build
    $ sudo ./install.sh install</pre><div class="orderedlist"><ol class="orderedlist" start="3" type="1"><li class="listitem">Verify the compiler is properly installed and view the full list of compiler options</li></ol></div><pre class="screen">    $ gcbasic</pre><p>Now you can create and compile GCBASIC source files. For example, to compile a program you created named <code class="literal">myprogram.bas</code> into <code class="literal">myprogram.hex</code>, you could run:</p><pre class="screen">    $ gcbasic -A:GCASM -R:none -K:A -WX -V myprogram.bas</pre><p>This will:</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">use GCBASIC&#8217;s internal assembler,</li><li class="listitem">turn off report creation,</li><li class="listitem">preserve all code in the assembly file output (useful for debugging)</li><li class="listitem">treat warnings as errors, and</li><li class="listitem">print compiler messages in verbose mode</li></ul></div><p><span class="strong"><strong>Programming</strong></span></p><p>To transfer your compiled .hex program files from your Pi to your microcontroller, you will need additional software.</p><p>For most PIC microcontrollers, you should use <a class="link" href="https://pickitplus.co.uk/Typesetter/index.php/PKCMD-Pi-Application" target="_top">PICkitPlus for Pi</a>.  PICKitPlus support the widest range of PICs including the latest PICs. It is fully supported application.</p><p>For AVR microcontrollers, you will need <code class="literal">avrdude</code>. It should be available in your distribution&#8217;s repository. If not, check here: <a class="link" href="http://www.nongnu.org/avrdude/" target="_top">http://www.nongnu.org/avrdude/</a> .  Instructions on how to use it can be found <a class="link" href="https://learn.adafruit.com/program-an-avr-or-arduino-using-raspberry-pi-gpio-pins/overview" target="_top">here</a>.</p></div></body></html>