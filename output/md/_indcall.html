<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>IndCall</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_flow_control.html" title="Flow control"><link rel="prev" href="_if.html" title="If"><link rel="next" href="_pause.html" title="Pause"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="_indcall"></a>IndCall</h4></div></div></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="screen">    IndCall <span class="emphasis"><em>Address</em></span></pre><p><span class="strong"><strong>Command Availability:</strong></span></p><p>Available on all microcontrollers.</p><p><span class="strong"><strong>Explanation:</strong></span></p><p><code class="literal">IndCall</code> provides a basic implementation of function pointers. <code class="literal"><span class="emphasis"><em>Address</em></span></code>
is the program memory location of the subroutine that is to be called.
There are two ways to specify this - either by providing a direct
reference to the subroutine using the @ operator, or by specifying a
word variable that contains the address.</p><p>This command is useful for callbacks. For example, a particular
subroutine might read bytes from a serial connection, but different
actions may need to be taken at different times. A different subroutine
could be created for each action, and then the subroutine for the
appropriate action could be passed to the serial connection reading
routine each time it is called.</p><p><span class="strong"><strong>Note:</strong></span>
Calling subroutines that have parameters using <code class="literal">IndCall</code> is not
supported. Errors may occur. If data needs to be passed, use a variable
instead.</p><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    'Flash an LED using an indirect call
    #chip 12F683

    'Create a word variable, and set it to the memory location of the
    'Blink subroutine.
    Dim FlashingSub As Word
    FlashingSub = @Blink

    'Main loop
    Do
    'Indirect call to subroutine at location FlashingSub
    	IndCall FlashingSub
    Loop

    'LED flashing subroutine
    Sub Blink
    	PulseOut GPIO.0, 500 ms
    	Wait 500 ms
    End Sub</pre></div></body></html>