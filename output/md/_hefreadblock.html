<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>HEFReadBlock</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_hefm_pfm.html" title="HEFM ( PFM )"><link rel="prev" href="_hefwriteword.html" title="HEFWriteWord"><link rel="next" href="_hefwriteblock.html" title="HEFWriteBlock"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_hefreadblock"></a>HEFReadBlock</h5></div></div></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="screen">    HEFReadBlock ( block_number,  buffer(), [, num_bytes] )</pre><p><span class="strong"><strong>Command Availability:</strong></span></p><p>Available on all PIC micro-controllers with HEFM memory.</p><p><span class="strong"><strong>Explanation:</strong></span>
<br>
<br>
HEFReadBlock is used to read information from the HEFM data storage into the buffer.&nbsp;&nbsp;&nbsp;
Once the buffer is populated it can be accessed for use within a user program.
<br>
<br>
The parameters are as follows:
<br>
<br>
<code class="literal">block_number</code> represents the block to be written to.&nbsp;&nbsp;&nbsp;
The block_number parameter is used to calculate the physical memory location(s) that are updated.
<br>
<br>
<code class="literal">buffer()</code> represents an array or string.&nbsp;&nbsp;&nbsp;
The buffer will be used as the data target for the block read operation.&nbsp;&nbsp;&nbsp;
The  buffer is handled as a buffer of bytes values.&nbsp;&nbsp;&nbsp;
In most cases the buffer should be the same size as a row/block of HEFM.&nbsp;&nbsp;&nbsp;
For most PIC Microcontrollers this will be 32 bytes.&nbsp;&nbsp;&nbsp;
For PIC microcontrollers with 2KW or less of Flash Program Memory this will be 16 Bytes.&nbsp;&nbsp;&nbsp;
Once data is read into the buffer from HEFM, the user program must handle the data as Byte, Word or String values, as appropriate.
<br>
<br>
<code class="literal">num_bytes</code> is an optional parameter, and can be used to specify number of bytes to read from HEFM, starting at the first location in the selected HEFM block.&nbsp;&nbsp;&nbsp;
This parameter is not normally required as the default is set to the GCBASIC constant <code class="literal">HEF_ROWSIZE_BYTES</code>.
<br>
<br></p><p><span class="strong"><strong>Example 1:</strong></span></p><pre class="screen">    '... code preamble to select part
    '... code to setup serial

      Dim My_Buffer(HEF_ROWSIZE_BYTES)
      Dim index as byte

      ;Write some data to Block 2
      My_Buffer = 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32
      HEFWriteBlock(2, My_Buffer())

      ;Read the data back from HEFM using HEFReadBock
      HEFReadBlock( 2 , My_buffer() )

     ;Send the data to a terminal in decimal format
      index = 1
      Repeat HEF_ROWSIZE_BYTES
          Hserprint(My_Buffer(index))
          HserPrint " "
          index++
     End Repeat</pre><p><br>
<br>
See also
<a class="link" href="_hefm_overview.html" title="HEFM Overview">HEFM Overview</a>,
<a class="link" href="_hefread.html" title="HEFRead">HEFRead</a>,
<a class="link" href="_hefreadword.html" title="HEFReadWord">HEFReadWord</a>,
<a class="link" href="_hefwrite.html" title="HEFWrite">HEFWrite</a>,
<a class="link" href="_hefwriteword.html" title="HEFWriteWord">HEFWriteWord</a>,
<a class="link" href="_hefreadblock.html" title="HEFReadBlock">HEFReadBlock</a>,
<a class="link" href="_hefwriteblock.html" title="HEFWriteBlock">HEFWriteBlock</a>,
<a class="link" href="_heferaseblock.html" title="HEFEraseBlock">HEFEraseBlock</a></p></div></body></html>