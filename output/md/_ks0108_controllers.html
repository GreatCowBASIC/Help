<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>KS0108 Controllers</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_glcd_overview.html" title="GLCD Overview"><link rel="prev" href="_ili9488_controllers.html" title="ILI9488 Controllers"><link rel="next" href="_nextion_controllers.html" title="NEXTION Controllers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_ks0108_controllers"></a>KS0108 Controllers</h5></div></div></div><p>This section covers GLCD devices that use the KS0108 graphics controller.</p><p>The KS0108 is an LCD is driven by on-board 5V parallel interface chipset KS0108 and KS0107. They are extremely common and well documented</p><p>The GCBASIC constants shown below control the configuration of the KS0108 controller. &nbsp;&nbsp;&nbsp;The only connectivity option is the 8-bit mode where 8 connections (for the data) are required between the microcontroller and the GLCD to control the data bus.</p><p>The KS0108 is a monochrome device.</p><p>To use the KS0108 driver simply include the following in your user code.  This will initialise the driver.</p><pre class="screen">    #include &lt;glcd.h&gt;
    #DEFINE GLCD_TYPE GLCD_TYPE_KS0108


    #define GLCD_RW       PORTB.1            'chip specific configuration
    #define GLCD_RESET    PORTB.5            'chip specific configuration
    #define GLCD_CS1      PORTB.3            'chip specific configuration
    #define GLCD_CS2      PORTB.4            'chip specific configuration
    #define GLCD_RS       PORTB.0            'chip specific configuration
    #define GLCD_ENABLE   PORTB.2            'chip specific configuration
    #define GLCD_DB0      PORTC.7            'chip specific configuration
    #define GLCD_DB1      PORTC.6            'chip specific configuration
    #define GLCD_DB2      PORTC.5            'chip specific configuration
    #define GLCD_DB3      PORTC.4            'chip specific configuration
    #define GLCD_DB4      PORTC.3            'chip specific configuration
    #define GLCD_DB5      PORTC.2            'chip specific configuration
    #define GLCD_DB6      PORTC.1            'chip specific configuration
    #define GLCD_DB7      PORTC.0            'chip specific configuration</pre><p>The GCBASIC constants for the interface to the controller are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Options</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_TYPE</code></p></td><td align="left" valign="top"><p><code class="literal">GLCD_TYPE_KS0108</code></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RS</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Register Select on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RW</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Read/Write on the GLCD.
The R/W pin can be disabled.</p></td><td align="left" valign="top"><p><span class="strong"><strong><span class="emphasis"><em>Must be defined</em></span></strong></span> <span class="emphasis"><em>(unless R/W is disabled)<br>
see</em></span> <code class="literal">GLCD_NO_RW</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS1</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">CS1</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS2</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">CS2</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_ENABLE</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">Enable</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB0</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB0</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB1</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB1</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB2</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB2</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB3</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB3</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB4</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB4</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB5</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB5</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB6</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB6</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB7</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to <code class="literal">DB7</code> on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_NO_RW</code></p></td><td align="left" valign="top"><p>Disables read/write inspection of the device during read/write
operations</p></td><td align="left" valign="top"><p>Optional, but recommend NOT to set.
The R/W pin can be disabled by setting the <code class="literal">GLCD_NO_RW</code> constant. If this
is done, there is no need for the R/W to be connected to the chip, and
no need for the <code class="literal">LCD_RW</code> constant to be set. Ensure that the R/W line on
the LCD is connected to ground if not used.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DATA_PORT</code></p></td><td align="left" valign="top"><p>Not Available for this controller.</p></td><td align="left" valign="top"><p>Not applicable.</p></td></tr></tbody></table></div><p>The GCBASIC constants defined for the controller type are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="center" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_WIDTH</code></p></td><td align="left" valign="top"><p>The width parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">128</code>
This constant cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_HEIGHT</code></p></td><td align="left" valign="top"><p>The height parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">64</code>
This constant cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDirection</code></p></td><td align="left" valign="top"><p>Defining this will invert the Y Axis</p></td><td align="center" valign="top"><p>Not defined</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">KS0108ReadDelay</code></p></td><td align="left" valign="top"><p>Read delay</p></td><td align="center" valign="top"><p>Default is   9
</p><p>Can be set to improve overall performance.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">KS0108WriteDelay</code></p></td><td align="left" valign="top"><p>Write delay</p></td><td align="center" valign="top"><p>Default is   1
</p><p>Can be set to improve performance.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">KS0108ClockDelay</code></p></td><td align="left" valign="top"><p>Clock Delay</p></td><td align="center" valign="top"><p>Default is 1
</p><p>Can be set to improve performance.</p></td></tr></tbody></table></div><p>The GCBASIC constants for control display characteristics are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Variables</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="center" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCDFontWidth</code></p></td><td align="left" valign="top"><p>Width of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 6 pixels.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDfntDefault</code></p></td><td align="left" valign="top"><p>Size of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 0.
</p><p>This equates to the standard GCB font set.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDfntDefaultsize</code></p></td><td align="left" valign="top"><p>Size of the current GLCD font.</p></td><td align="center" valign="top"><p>Default is 1.
</p><p>This equates to the 8 pixel high.</p></td></tr></tbody></table></div><p>The GCBASIC commands supported for this GLCD are shown in the
table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Command</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Purpose</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Example</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td><td align="left" valign="top"><p>Clear screen of GLCD</p></td><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDPrint</code></p></td><td align="left" valign="top"><p>Print string of characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDPrint( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawChar</code></p></td><td align="left" valign="top"><p>Print character on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawChar( Xposition, Yposition, CharCode )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawString</code></p></td><td align="left" valign="top"><p>Print characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawString( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Box</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size</p></td><td align="left" valign="top"><p><code class="literal">Box ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour as 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">FilledBox</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size that is filled with the
foreground colour.</p></td><td align="left" valign="top"><p><code class="literal">FilledBox (Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Line</code></p></td><td align="left" valign="top"><p>Draw a line on the GLCD to a specific length that is filled with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">Line ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">PSet</code></p></td><td align="left" valign="top"><p>Set a pixel on the GLCD at a specific position that is set with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">PSet(Xposition, Yposition, Pixel Colour 0 or 1)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDWriteByte</code></p></td><td align="left" valign="top"><p>Set a byte value to the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">GLCDWriteByte ( LCDByte)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDReadByte</code></p></td><td align="left" valign="top"><p>Read a byte value from the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">bytevariable = GLCDReadByte</code></p></td></tr></tbody></table></div><p>For a KS0108 datasheet, please refer
<a class="link" href="http://www.vishay.com/docs/37329/37329.pdf" target="_top">here.</a></p><p>This example shows how to drive a KS0108 based Graphic LCD module with
the built in commands of GCBASIC. See
<a class="link" href="http://www.greatcowbasic.com/sample-projects.html" target="_top">Graphic LCD</a> for
details, this is an external web site.</p><pre class="screen">    ;Chip Settings
    #chip 16F886,16
    '#config MCLRE = on 'enable reset switch on CHIPINO
    #include &lt;GLCD.h&gt;

    ;Defines (Constants)
    #define GLCD_RW PORTB.1  'D9 to pin 5 of LCD
    #define GLCD_RESET PORTB.5 'D13 to pin 17 of LCD
    #define GLCD_CS1 PORTB.3 'D12 to actually since CS1, CS2 can be reversed on some devices
    #define GLCD_CS2 PORTB.4 'D11 to actually since CS1, CS2 can be reversed on some devices
    #define GLCD_RS PORTB.0  'D8 to pin 4 D/I pin on LCD
    #define GLCD_ENABLE PORTB.2 'D10 to Pin 6 on LCD
    #define GLCD_DB0 PORTC.7 'D0 to pin 7 on LCD
    #define GLCD_DB1 PORTC.6 'D1 to pin 8 on LCD
    #define GLCD_DB2 PORTC.5 'D2 to pin 9 on LCD
    #define GLCD_DB3 PORTC.4 'D3 to pin 10 on LCD
    #define GLCD_DB4 PORTC.3 'D4 to pin 11 on LCD
    #define GLCD_DB5 PORTC.2 'D5 to pin 12 on LCD
    #define GLCD_DB6 PORTC.1 'D6 to pin 13 on LCD
    #define GLCD_DB7 PORTC.0 'D7 to pin 14 on LCD

    Do forever
        GLCDCLS
        GLCDPrint 0,10,"Hello" 'Print Hello
        wait 5 s
        GLCDPrint 0,10, "ASCII #:" 'Print ASCII #:
        Box 18,30,28,40                    'Draw Box Around ASCII Character
        for char = 15 to 129            'Print 0 through 9
          GLCDPrint 17, 20 , Str(char)+"  "
          GLCDdrawCHAR 20,30, char
          wait 125 ms
        next
        line 0,50,127,50                'Draw Line using line command
        for xvar = 0 to 80            'draw line using Pset command
            pset xvar,63,on                    '
        next                                        '
        Wait 1 s
        GLCDPrint 0,10,"End  " 'Print Hello
        wait 1 s
    Loop</pre><p><span class="strong"><strong>For more help, see</strong></span>
<a class="link" href="_glcdcls.html" title="GLCDCLS">GLCDCLS</a>, <a class="link" href="_glcddrawchar.html" title="GLCDDrawChar">GLCDDrawChar</a>, <a class="link" href="_glcdprint.html" title="GLCDPrint">GLCDPrint</a>, <a class="link" href="_glcdreadbyte.html" title="GLCDReadByte">GLCDReadByte</a>, <a class="link" href="_glcdwritebyte.html" title="GLCDWriteByte">GLCDWriteByte</a> or <a class="link" href="_pset.html" title="Pset">Pset</a></p><p>Supported in &lt;GLCD.H&gt;</p></div></body></html>