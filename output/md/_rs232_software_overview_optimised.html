<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>RS232 Software Overview - Optimised</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_rs232_software_optimised.html" title="RS232 (software optimised)"><link rel="prev" href="_rs232_software_optimised.html" title="RS232 (software optimised)"><link rel="next" href="_sernsend.html" title="SerNSend"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_rs232_software_overview_optimised"></a>RS232 Software Overview - Optimised</h5></div></div></div><p><span class="strong"><strong>Introduction:</strong></span></p><p>These routines allow the microcontroller to send and receive RS232 data.</p><p>SoftSerial is a library for the GCBASIC compiler and works on AVR and PIC microcontrollers.
These routines allow the microcontroller to send and receive RS232 data.
All functions are implemented using software, so no special hardware is required on the microcontroller.
SoftSerial uses ASM routines for minimal overhead.
If the microcontroller has a hardware serial module (usually referred to as UART or USART) the hardware routines can be used too.</p><p><span class="strong"><strong>Features</strong></span></p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">3 independent channels Ser1&#8230;&#8203; , Ser2&#8230;&#8203; , Ser3&#8230;&#8203;</li><li class="listitem">I/O pins user configurable</li><li class="listitem">polarity can be inverted</li><li class="listitem">freely adjustable baud rate</li><li class="listitem"><p class="simpara">maximum baudrate depends on MCU speed</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: circle; "><li class="listitem">PIC@ 1Mhz    9600 baud</li><li class="listitem">PIC@ 4Mhz   38400 baud</li><li class="listitem">PIC@ 8Mhz   64000 baud</li><li class="listitem">PIC@16Mhz  128000 baud</li><li class="listitem">AVR@ 1Mhz   28800 baud</li><li class="listitem">AVR@ 8Mhz  115200 baud</li><li class="listitem">AVR@16Mhz  460800 baud</li></ul></div></li><li class="listitem">5 - 8  data bits</li><li class="listitem">1 or 2 stop bits</li><li class="listitem">parity bit not supported</li></ul></div><p><span class="strong"><strong>Relevant Constants:</strong></span></p><p>These constants are used to control settings for the RS232 serial
communication routines. To set them, place a line in the main program
file that uses <code class="literal">#define</code> to assign a value to the particular constant.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"><col class="col_4"></colgroup><thead><tr><th align="left" valign="top">Constant Name/s</th><th align="left" valign="top">Controls</th><th align="left" valign="top">Valid Values</th><th align="left" valign="top">Default value</th></tr></thead><tbody><tr><td align="left" valign="top"><p>SER1_TXPORT,
SER2_TXPORT,
SER3_TXPORT</p></td><td align="left" valign="top"><p>These are used to define the port for sending on serial channels 1, 2 and 3 respectively. Note, that we also have to define a PortPin (see next line). It is not necessary to define this, if we want to receive only.
Sample:  #define SER1_TXPORT PortB</p></td><td align="left" valign="top"><p>PORTA - PORTx</p></td><td align="left" valign="top"><p>No default defined.
An appropiate constant must be defined.</p></td></tr><tr><td align="left" valign="top"><p>SER1_TXPIN,
SER2_TXPIN,
SER3_TXPIN</p></td><td align="left" valign="top"><p>These are used to define the pin (the corresponding bit) for sending on serial channels 1, 2 and 3 respectively.
Sample:  #define SER1_TXPIN 0</p></td><td align="left" valign="top"><p>0 - 7</p></td><td align="left" valign="top"><p>No default defined.
An appropiate constant must be defined to enable the TX port.</p></td></tr><tr><td align="left" valign="top"><p>SER1_RXPORT,
SER2_RXPORT,
SER3_RXPORT</p></td><td align="left" valign="top"><p>These are used to define the port for receiving on serial channels 1, 2 and 3 respectively. Note, that we also have to define a PortPin (see next line). It is not necessary to define this, if we want to receive only.
Sample:  #define SER1_RXPORT PortA</p></td><td align="left" valign="top"><p>PORTA - PORTx</p></td><td align="left" valign="top"><p>No default defined.
An appropiate constant must be defined to enable the TX port.</p></td></tr><tr><td align="left" valign="top"><p>SER1_RXPIN,
SER2_RXPIN,
SER3_RXPIN</p></td><td align="left" valign="top"><p>These are used to define the pin (the corresponding bit) for receiving on serial channels 1, 2 and 3 respectively. It is not necessary to define this, if we want to send only.
Sample:  #define SER1_RXPIN 5</p></td><td align="left" valign="top"><p>0 - 7</p></td><td align="left" valign="top"><p>No default defined.
An appropiate constant must be defined to enable the RX port.</p></td></tr><tr><td align="left" valign="top"><p>SER1_BAUD,
SER2_BAUD,
SER3_BAUD</p></td><td align="left" valign="top"><p>These are used to define the baudrate for sending and receiving on serial channels 1, 2 and 3 respectively. It is not necessary to define this, if we want to send only.
Sample:  #define SER1_BAUD 19200</p></td><td align="left" valign="top"><p>75 - 512000</p></td><td align="left" valign="top"><p>No default defined.
An appropiate constant must be defined to enable the RX port.</p></td></tr><tr><td align="left" valign="top"><p>SER1_DATABITS,
SER2_DATABITS,
SER3_DATABITS</p></td><td align="left" valign="top"><p>These are used to define the databits for sending and receiving on serial channels 1, 2 and 3 respectively.
Sample:  #define SER1_DATABITS 7</p></td><td align="left" valign="top"><p>5 - 8</p></td><td align="left" valign="top"><p>Optional
Default = 8</p></td></tr><tr><td align="left" valign="top"><p>SER1_STOPBITS,
SER2_STOPBITS,
SER3_STOPBITS</p></td><td align="left" valign="top"><p>These are used to define the stopbits for sending and receiving on serial channels 1, 2 and 3 respectively.
Sample:  #define SER1_STOPBITS 2</p></td><td align="left" valign="top"><p>1, 2</p></td><td align="left" valign="top"><p>Optional
Default = 1</p></td></tr><tr><td align="left" valign="top"><p>SER1_INVERT,
SER2_INVERT,
SER3_INVERT</p></td><td align="left" valign="top"><p>These are used to define the polarity for sending and receiving on serial channels 1, 2 and 3 respectively. If it is "On", then high bits will be changed to low, and low to high. This is useful for connection to a PCs native serial port or USB-serial converters with  MAX232.
Sample:  #define SER1_INVERT On</p></td><td align="left" valign="top"><p>On, Off</p></td><td align="left" valign="top"><p>Optional
Default = Off</p></td></tr><tr><td align="left" valign="top"><p>SER1_RXNOWAIT,
SER2_RXNOWAIT,
SER3_RXNOWAIT</p></td><td align="left" valign="top"><p>These are used to define, if SerNReceive waits for the startbits when receiving on serial channels 1, 2 and 3 respectively. If it is "On", then SerNReceive does not wait for the startbits edge, but directly reads the serial data. Also the time for delaying the startbit is shortened. This is useful when calling SerNReceive from an Interrupt-Service-Routine.
Sample:  #define SER1_RXNOWAIT On</p></td><td align="left" valign="top"><p>On, Off</p></td><td align="left" valign="top"><p>Optional
Default = Off</p></td></tr></tbody></table></div></div></body></html>