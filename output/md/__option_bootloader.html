<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>#Option Bootloader</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_compiler_options.html" title="Compiler Options"><link rel="prev" href="__option_noconfig.html" title="#Option NoConfig"><link rel="next" href="__option_nocontextsave.html" title="#Option NoContextSave"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="__option_bootloader"></a>#Option Bootloader</h3></div></div></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="screen">    #option bootloader <span class="emphasis"><em>address</em></span></pre><p><span class="strong"><strong>Explanation:</strong></span></p><p><code class="literal">#option bootloader</code> prevents the overwriting of any pre-loaded bootloader code, vectors, etc. below the specified address. The GCBASIC code will start at specified <code class="literal"><span class="emphasis"><em>address</em></span></code>.</p><p>A bootloader is a program that stays in the microcontroller and communicates with the PC, typically through the serial interface. The bootloader receives a user program from the PC and writes it in the flash memory, then launches this program in execution. Bootloaders can only be used with those microcontrollers that can write their flash memory through software.</p><p>The bootloader itself must be written into the flash memory with an external programmer.</p><p>In order for the bootloader to be launched after each reset, a <code class="literal">goto bootloader</code> instruction must exist somewhere in the first 4 instructions; There are two types of bootloaders, some that require that the user reallocate the code and others that by themselves reallocate the first 4 instructions of the user program to another location and execute them when the bootloader exits.</p><p>The diagram below shows the architecture of a bootloader. The left hand is the operation of the instructions without a bootloader. The right hand shows the initial instruction of goto the bootoader, then, when the bootloader has initialised the execution of the start code.</p><div class="informalfigure"><div class="mediaobject" align="center"><img src="./images/optionbootloaderb1.PNG" align="middle" alt="graphic"></div></div><p>See <a class="link" href="https://sourceforge.net/projects/tinypicbootload/files/" target="_top">example bootload software.</a></p><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    #option bootloader 0x800</pre></div></body></html>