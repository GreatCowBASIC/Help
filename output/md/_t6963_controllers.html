<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>T6963 Controllers</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_glcd_overview.html" title="GLCD Overview"><link rel="prev" href="_st7920greaddata.html" title="ST7920gReaddata"><link rel="next" href="_uc1601_controllers.html" title="UC1601 Controllers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_t6963_controllers"></a>T6963 Controllers</h5></div></div></div><p>This section covers Graphical Liquid Crystal Display (GLCD) devices that use the Toshiba T6963 graphics controller.&nbsp;&nbsp;&nbsp;The T6963 is a monochrome device that typically is blue or white.&nbsp;&nbsp;&nbsp;The GLCD can be provided in a number of pixels sizes - 240 * 64 or 240 * 128.
<br>
<br>
The Toshiba T6963 is a very popular LCD controller for use in small graphics modules. It is capable of controlling displays with a resolution up to 240x128. Because of its low power and
small outline it is most suitable for mobile applications such as PDAs, MP3 players or mobile measurement equipment.
<br>
<br>
A number of GLCD  modules have this controller built-in these include the SP12N002 &amp; SP14N001. Although this controller is small, it has the capability of displaying
and merging text and graphics and it manages all the interfacing signals to the displays Row and Column drivers.&nbsp;&nbsp;&nbsp;The GCBASIC library supports the complex capabilities of the T6963.
<br>
<br>
The T6963 is an LCD is driven by on-board 5V parallel interface chipset T6963.&nbsp;&nbsp;&nbsp;For the specific operating voltage always verify the operating voltages in the device specific datasheet.
<br>
<br>
The GCBASIC connectivity option is the 8-bit mode - where 8 connections (for the data) are required between the microcontroller and the GLCD to control the data bus.
<br>
<br>
To use the T6963 driver simply include the following in your user code.  &nbsp;&nbsp;&nbsp;This will initialise the driver.
<br>
<br></p><pre class="screen">    #chip 16f1939,32
    #option explicit

    '***********************************************************************************************
    'Specify this GLCD - a 240 x 64 pixels display
    #include &lt;glcd.h&gt;
     #define GLCD_TYPE GLCD_TYPE_T6963_64

    '***********************************************************************************************
    'define the connectivity - the 8bit port
    #define GLCD_DATA_PORT PORTD             'Library support contigous 8-bit port

  '  or
  '  #define GLCD_DB0      PORTD.0            'chip specific configuration where the ibrary supports 8-bit port defined via 8 constants
  '  #define GLCD_DB1      PORTD.1            'chip specific configuration
  '  #define GLCD_DB2      PORTD.2            'chip specific configuration
  '  #define GLCD_DB3      PORTD.3            'chip specific configuration
  '  #define GLCD_DB4      PORTD.4            'chip specific configuration
  '  #define GLCD_DB5      PORTD.5            'chip specific configuration
  '  #define GLCD_DB6      PORTD.6            'chip specific configuration
  '  #define GLCD_DB7      PORTD.7            'chip specific configuration

     #define GLCD_CS        PORTa.7           'Chip Enable (Active Low)
     #define GLCD_CD        PORTa.0           'Command or Data conrol line port
     #define GLCD_RD        PORTA.1           'Read control line  port
     #define GLCD_WR        PORTA.2           'Write control line port
     #define GLCD_RESET     PORTA.3           'Reset port
     #define GLCD_FS        PORTA.5           'FS port
     #define GLCD_FS_SELECT 1                 'FS1 Font Select port. 6x8 font: FS1=&#8220;High&#8221;=1 8x8 font FS1=&#8220;Low&#8221;=0 for GLCD_FS_SELECT

    '***********************************************************************************************
    '*
    '* Note    :   The T6963 controller's RAM address space from $0000 - $7FFF, total 32kbyte RAM, or it could be 64kbyte RAM best check!!
    '*
    '***********************************************************************************************
     #define TEXT_HOME_ADDR      0x0000                                                         'This is specific to the GLCD display
     #define GRH_HOME_ADDR       0x3FFF                                                         'This is specific to the GLCD display
     #define CG_HOME_ADDR        0x77FF                                                         'This is specific to the GLCD display
     #define COLUMN              40    'Set column number to be 40 , 32, 30 etc.                 This is specific to the GLCD display
     #define MAX_ROW_PIXEL       64    'MAX_ROW_PIXEL the physical matrix length (y direction)   This is specific to the GLCD display
     #define MAX_COL_PIXEL       240   'MAX_COL_PIXEL the physical matrix width (x direction)    This is specific to the GLCD display

    '***********************************************************************************************
    '* End of configuration
    '***********************************************************************************************</pre><p><br>
<br></p><p>The GCBASIC constants for the interface to the controller are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Options</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_TYPE</code></p></td><td align="left" valign="top"><p><code class="literal">GLCD_TYPE_TYPE_T6963_64</code> or <code class="literal">GLCD_TYPE_T6963_128</code></p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DATA_PORT</code></p></td><td align="left" valign="top"><p>A full 8-bit port.  8 contigous input/outputs.</p></td><td align="left" valign="top"><p>or use GLCD_DB0..GLCD_DB7</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DB0..7</code></p></td><td align="left" valign="top"><p>A 8-bit port using 8 input/outputs.</p></td><td align="left" valign="top"><p>or use GLCD_DATA_PORT</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Chip Select on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CD</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Command/Data on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RD</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Read on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_WR</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Write on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_RESET</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Reset on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_FS</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to FS  on the GLCD.  The FS specifies the font size.  Please set to 6 setting  GLCD_FS_SELECT = 1</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_FS_SELECT</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to FS  on the GLCD.  The FS specifies the font size.  Please set to 6 setting  GLCD_FS_SELECT = 1</p></td><td align="left" valign="top"><p>Required.  Can be 1 or 0.  Default setting is 1.</p></td></tr></tbody></table></div><p><br>
<br></p><p>The T6963 differs from most other GLCD controllers in its use of the display RAM.&nbsp;&nbsp;&nbsp; Where a fixed area
of memory is normally allocated for text, graphics and the external character generator, but with
the T6963 the size for each area <span class="strong"><strong>MUST</strong></span> be set by software commands.&nbsp;&nbsp;&nbsp; This means that the area for
text, graphics and external character generator can be freely allocated within the external
memory, up to 64 kByte.&nbsp;&nbsp;&nbsp;Check the specific device for the amount of memory available.&nbsp;&nbsp;&nbsp;This can range from 4 kbyte to 64 kbyte.</p><p><br>
<br>
For more information on memory management refer the device specific datasheet.
<br>
<br>
The GCBASIC constants control the memory configuration of the T6963 controller.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Value</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Comments</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">TEXT_HOME_ADDR</code></p></td><td align="left" valign="top"><p>0x0000</p></td><td align="left" valign="top"><p>This is specific to the GLCD display</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GRH_HOME_ADDR</code></p></td><td align="left" valign="top"><p>0x3FFF</p></td><td align="left" valign="top"><p>This is specific to the GLCD display</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">CG_HOME_ADDR</code></p></td><td align="left" valign="top"><p>0x77FF</p></td><td align="left" valign="top"><p>This is specific to the GLCD display</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">COLUMN</code></p></td><td align="left" valign="top"><p>40</p></td><td align="left" valign="top"><p>Set column number to be 40 , 32, 30 etc.  This is specific to the GLCD display</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">MAX_ROW_PIXEL</code></p></td><td align="left" valign="top"><p>64</p></td><td align="left" valign="top"><p>MAX_ROW_PIXEL the physical matrix length (y direction)   This is specific to the GLCD display</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">MAX_COL_PIXEL</code></p></td><td align="left" valign="top"><p>240</p></td><td align="left" valign="top"><p>MAX_COL_PIXEL the physical matrix width (x direction)    This is specific to the GLCD display</p></td></tr></tbody></table></div><p><br>
<br>
The GCBASIC library supports the following capabilities.&nbsp;&nbsp;&nbsp;Please refer to the relevant Help section and the device specific demonstrations.
<br>
<br>
<span class="strong"><strong>Commands Supported for the LCD and GLCD</strong></span>
<br>
<br></p><p>The GLCD command set covers the standard GLCDCLS, Line, Circle and all the GLCD methods and the  LCD command set: CLS, Locate, Print, LCDHEX etc.  The demonstrations show how to load BMP loading via external data sources and GLCD and LCD page swapping.
<br>
<br>
The table below shows the specific implementations of the command set for this device.&nbsp;&nbsp;&nbsp;Refer to the GLCD and LCD in the Help for the generic GLCD and LCD commands.
<br>
<br></p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Commands</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Usage</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p>CLS</p></td><td align="left" valign="top"><p>Clear the screen of the current LCD page</p></td></tr><tr><td align="left" valign="top"><p>LOCATE</p></td><td align="left" valign="top"><p>Locate the cursor at a specific screen position</p></td></tr><tr><td align="left" valign="top"><p>PRINT</p></td><td align="left" valign="top"><p>Print numbers or strings</p></td></tr><tr><td align="left" valign="top"><p>PUT</p></td><td align="left" valign="top"><p>Put a specific ASCII code at a specific screen position</p></td></tr><tr><td align="left" valign="top"><p>LCDHOME</p></td><td align="left" valign="top"><p>Set output position of 0, 0</p></td></tr><tr><td align="left" valign="top"><p>LCDcmd</p></td><td align="left" valign="top"><p>Send specific command to the device to control the device.</p></td></tr><tr><td align="left" valign="top"><p>LCDdata</p></td><td align="left" valign="top"><p>Send specific data to the device to control the device.</p></td></tr><tr><td align="left" valign="top"><p>LCDHex</p></td><td align="left" valign="top"><p>Print Hex value of a number to the LCD screen</p></td></tr><tr><td align="left" valign="top"><p>LCDSpace</p></td><td align="left" valign="top"><p>Print a number of space to the LCD screen</p></td></tr><tr><td align="left" valign="top"><p>LCDCursor</p></td><td align="left" valign="top"><p>Send specific commands to the device to control the cursor</p></td></tr><tr><td align="left" valign="top"><p>GLCDCLS</p></td><td align="left" valign="top"><p>Clear the screen of the current GLCD page</p></td></tr><tr><td align="left" valign="top"><p>GLCDRotate</p></td><td align="left" valign="top"><p>Rotate the GLCD screen. Only Landscape rotation is supported.</p></td></tr><tr><td align="left" valign="top"><p>SelectGLCDPage_T6963</p></td><td align="left" valign="top"><p>Select a specific GLCD page.</p></td></tr><tr><td align="left" valign="top"><p>SelectLCDPage_T6963</p></td><td align="left" valign="top"><p>Select a specific LCD page.</p></td></tr></tbody></table></div><p><br>
<br>
<span class="strong"><strong>GLCD and LCD page swapping</strong></span>
<br>
<br>
To support GLCD and LCD page swapping - this can be used to support fixed pages of information, BMPs or scrolling the following constants have are available to the user.
<br>
<br></p><p>For GLCD memory addressing</p><pre class="screen">  GLCDPage0_T6963
  GLCDPage1_T6963
  GLCDPage2_T6963
  ... etc
  GLCDPage10_T6963</pre><p>Ten pages are automatically created but the number of pages available is constrained by the memory configuration.
<br>
<br>
For LCD memory addressing</p><pre class="screen">  LCDPage0_T6963
  LCDPage1_T6963
  LCDPage2_T6963
  ...etc
  LCDPage10_T6963</pre><p>Ten pages are automatically created but the number of pages available is constrained by the memory configuration.
<br>
To use add the following to you user program.&nbsp;&nbsp;&nbsp;See the demonstration programs for more detailed usage.&nbsp;&nbsp;&nbsp;After calling the <code class="literal">SelectGLCDPage</code> or <code class="literal">SelectLCDPage</code> methods all GLCD or LCD commands will be applied to the current GLCD or LCD page.
<br>
<br></p><pre class="screen">    'Select the GLCD page 1 memory
    SelectGLCDPage ( GLCDPage1_T6963 )

    'Select the LCD page 2 memory
    SelectLCDPage ( LCDPage2_T6963 )</pre><p><br>
<br></p><p>The <code class="literal">SelectLCDPage</code> and <code class="literal">SelectLCDPage</code> and "Set Text Home Address" methods change the screen being viewed on the device.</p><p>The key is to establish what you want your memory map to look like.  &nbsp;&nbsp;&nbsp; Below is a map for one of my 240 x 64 pixel  device.   &nbsp;&nbsp;&nbsp; The default is for 10 screen pages (some newer LCD&#8217;s may have more RAM for more screens). &nbsp;&nbsp;&nbsp; If you write the appropriate value (0x1000, or 0x11b0, or 0x1360, etc) to the text home address, the display will instantly change to that screen - using <code class="literal">SelectLCDPage</code> and <code class="literal">SelectLCDPage</code> method with the appropiate constant as parameter.</p><p>You can write your screens "ahead of time", in my case during the "splash screen" delay interval, and instantly change to them later as desired. &nbsp;&nbsp;&nbsp; You can do this by setting <span class="strong"><strong>current_grh_home_addr</strong></span> to the appropiate page. &nbsp;&nbsp;&nbsp;And, then execute the GLCD commands you would normal use.</p><p>The graphic and text screens are independant but can be overlaid for a variety of useful effects.</p><p>Although, not tested,  the LCD text screens can be scrolled 1 full text line at a time, while the GLCD screens can be scrolled 1 pixel row at a time, provided you&#8217;ve set up your memory map accordingly with adequate RAM for the graphic area.</p><p><br>
<br>
<span class="strong"><strong>Default Memory Map</strong></span>
<br>
<br></p><pre class="screen">            '
            '*******************************************************
            '
            ' LCD MEMORY MAP
            '
            '*******************************************************
            '
            '
            '
            ' --------------------
            ' |                  | 0x0000
            ' |                  |
            ' | TEXT RAM AREA    | Each page has the numnbers of bytes + extra
            ' | ( 10 SCREENs )   | few bytes need to attributes. This is
            ' |                  | mentioned in the datasheet but imperical
            ' |                  | testing shows... you need the extra bytes
            ' --------------------
            ' |                  |
            ' | xx bytes unused  |
            ' |                  |
            ' --------------------
            ' |                  | 0x3fff
            ' |                  |
            ' |                  |
            ' |  GCLD RAM AREA   |
            ' |  ( 10 SCREENS )  |
            ' |                  |
            ' |                  |
            ' |          |
            ' --------------------
            ' |                  | 0x77ff
            ' |   CG RAM AREA    | (Sacrosanct)
            ' |                  |
            ' -------------------- 0x7ffff
            '</pre><p><span class="strong"><strong>Other methods and constants</strong></span>
<br>
There are many other methods and constants that support this device.&nbsp;&nbsp;&nbsp;Reviewing the library will assist in understanding how these private methods and constants support the overal solution for this library.
<br>
<br></p><p><span class="strong"><strong>For more help, see</strong></span>
<a class="link" href="_glcdcls.html" title="GLCDCLS">GLCDCLS</a>, <a class="link" href="_glcddrawchar.html" title="GLCDDrawChar">GLCDDrawChar</a>, <a class="link" href="_glcdprint.html" title="GLCDPrint">GLCDPrint</a> or <a class="link" href="_pset.html" title="Pset">Pset</a></p><p>Supported in &lt;GLCD.H&gt;</p><p>&nbsp;&nbsp;&nbsp;</p></div></body></html>