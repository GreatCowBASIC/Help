<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>ST7735 Controllers</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_glcd_overview.html" title="GLCD Overview"><link rel="prev" href="_st7567_controllers.html" title="ST7567 Controllers"><link rel="next" href="_st7789_controllers.html" title="ST7789 Controllers"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_st7735_controllers"></a>ST7735 Controllers</h5></div></div></div><p>This section covers GLCD devices that use the ST7735 graphics controller.  The ST7735 or ST7735R is a single-chip controller/driver for 262K-color, graphic type TFT-LCD.</p><p>GCBASIC supports 65K-color mode operations.</p><p>The GCBASIC constants shown below control the configuration of the ST7735 or ST7735R controller. &nbsp;&nbsp;&nbsp;GCBASIC supports an 8 bit bus connectivity. The 8 bit must be a single port of consective bits  - this is shown in the tables below.</p><p>To use the ST7735 driver simply include the following in your user code.  This will initialise the driver.</p><pre class="screen">    #include &lt;glcd.h&gt;
    #define GLCD_TYPE GLCD_TYPE_ST7735R
    #define ST7735TABCOLOR ST7735_BLACKTAB  ; can also be ST7735_GREENTAB or ST7735_REDTAB or GLCD_TYPE_ST7735R_160_80

    'Pin mappings for ST7735
    #define GLCD_DC     porta.0           'example port setting
    #define GLCD_CS    porta.1           'example port setting
    #define GLCD_RESET  porta.2           'example port setting
    #define GLCD_DI     porta.3           'example port setting
    #define GLCD_DO     porta.4           'example port setting
    #define GLCD_SCK    porta.5           'example port setting</pre><p>The GCBASIC constants for control display characteristics are shown in the table below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Options</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_TYPE</code></p></td><td align="left" valign="top"><p><code class="literal">GLCD_TYPE_ST7735</code> or <code class="literal">GLCD_TYPE_ST7735R</code> or <code class="literal">GLCD_TYPE_ST7735R_160_80</code></p></td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">ST7735TABCOLOR</code></p></td><td align="left" valign="top"><p>Specifies the type of ST7735 chipset.  The default is <code class="literal">ST7735_BLACKTAB</code></p></td><td align="left" valign="top"><p>Options are <code class="literal">ST7735_BLACKTAB</code>, <code class="literal">ST7735_GREENTAB</code> or <code class="literal">ST7735_REDTAB</code>.  Each tab is a different ST7735 configuration. If you do not know  your type try each constant and test.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DATA_PORT</code></p></td><td align="left" valign="top"><p>Not Available for this controller.</p></td><td align="left" valign="top"><p>Not applicable.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DC</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Data/Command IO pin on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_CS</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Chip Select (CS) on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_Reset</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Reset pin on the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_DI</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Data In (GLCD out) pin on
the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_D0</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Data Out (GLCD in) pin on
the GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_SLK</code></p></td><td align="left" valign="top"><p>Specifies the output pin that is connected to Clock (CLK) pin on the
GLCD.</p></td><td align="left" valign="top"><p>Required</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ST7735_HardwareSPI</code></p></td><td align="left" valign="top"><p>Specifies that hardware SPI will be used</p></td><td align="left" valign="top"><p>SPI ports MUST be defined that match the SPI module for each specific microcontroller
</p><p>    <span class="strong"><strong>#define ST7735_HardwareSPI</strong></span></p></td></tr><tr><td align="left" valign="top"><p>HWSPIMode</p></td><td align="left" valign="top"><p>Specifies the speed of the SPI communications for Hardware SPI only.</p></td><td align="left" valign="top"><p>Optional defaults to MASTERFAST.
</p><p>Options are MASTERSLOW,<br>
MASTER,<br>
MASTERFAST, or<br>
MASTERULTRAFAST for specific AVRs only.</p></td></tr><tr><td align="left" valign="top">&nbsp;</td><td align="left" valign="top">&nbsp;</td><td align="left" valign="top">&nbsp;</td></tr><tr><td align="left" valign="top"><p><code class="literal">ST7735_XSTART</code></p></td><td align="left" valign="top"><p>Specifies the adjustment made to the X axis when writing to the GLCD.  This is used to correct any geometry correction required for specific GLCDs.</p></td><td align="left" valign="top"><p>Optional.  Defaults are set for each specific GLCD.</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ST7735_YSTART</code></p></td><td align="left" valign="top"><p>Specifies the adjustment made to the Y axis when writing to the GLCD.  This is used to correct any geometry correction required for specific GLCDs.</p></td><td align="left" valign="top"><p>Optional.  Defaults are set for each specific GLCD.</p></td></tr></tbody></table></div><p>The GCBASIC constants for control display characteristics are shown in the table below.<br></p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Constants</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Controls</strong></span></th><th align="center" valign="top"><span class="strong"><strong>Default</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCD_WIDTH</code></p></td><td align="left" valign="top"><p>The width parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">160</code><br>
This cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCD_HEIGHT</code></p></td><td align="left" valign="top"><p>The height parameter of the GLCD</p></td><td align="center" valign="top"><p><code class="literal">128</code><br>
This cannot be changed</p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDFontWidth</code></p></td><td align="left" valign="top"><p>Specifies the font width of the GCBASIC font set.</p></td><td align="center" valign="top"><p><code class="literal">6</code></p></td></tr></tbody></table></div><p>The GCBASIC commands supported for this GLCD are shown in the table below.&nbsp;&nbsp;&nbsp;Always review the appropiate library for the latest full set of supported commands.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th align="left" valign="top"><span class="strong"><strong>Command</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Purpose</strong></span></th><th align="left" valign="top"><span class="strong"><strong>Example</strong></span></th></tr></thead><tbody><tr><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td><td align="left" valign="top"><p>Clear screen of GLCD</p></td><td align="left" valign="top"><p><code class="literal">GLCDCLS</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDPrint</code></p></td><td align="left" valign="top"><p>Print string of characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDPrint( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawChar</code></p></td><td align="left" valign="top"><p>Print character on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawChar( Xposition, Yposition, CharCode )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDDrawString</code></p></td><td align="left" valign="top"><p>Print characters on GLCD using GCB font set</p></td><td align="left" valign="top"><p><code class="literal">GLCDDrawString( Xposition, Yposition, Stringvariable )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Box</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size</p></td><td align="left" valign="top"><p><code class="literal">Box ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour as 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">FilledBox</code></p></td><td align="left" valign="top"><p>Draw a box on the GLCD to a specific size that is filled with the
foreground colour.</p></td><td align="left" valign="top"><p><code class="literal">FilledBox (Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">Line</code></p></td><td align="left" valign="top"><p>Draw a line on the GLCD to a specific length that is filled with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">Line ( Xposition1, Yposition1, Xposition2, Yposition2, [Optional In
LineColour 0 or 1] )</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">PSet</code></p></td><td align="left" valign="top"><p>Set a pixel on the GLCD at a specific position that is set with the
specific attribute.</p></td><td align="left" valign="top"><p><code class="literal">PSet(Xposition, Yposition, Pixel Colour 0 or 1)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDWriteByte</code></p></td><td align="left" valign="top"><p>Set a byte value to the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">GLCDWriteByte (LCDByte)</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">GLCDReadByte</code></p></td><td align="left" valign="top"><p>Read a byte value from the controller, see the datasheet for usage.</p></td><td align="left" valign="top"><p><code class="literal">bytevariable = GLCDReadByte</code></p></td></tr><tr><td align="left" valign="top"><p><code class="literal">ST7735_[color]</code></p></td><td align="left" valign="top"><p>Specify color as a parameter for many GLCD commands</p></td><td align="left" valign="top"><p>Any color can be defined using a valid hexidecimal word value between 0x0000 to 0xFFFF., see <a class="link" href="http://www.barth-dev.de/online/rgb565-color-picker/" target="_top">http://www.barth-dev.de/online/rgb565-color-picker/</a> for a wider range of color parameters.</p></td></tr></tbody></table></div><p>For a ST7735 datasheet, please refer
<a class="link" href="http://www.crystalfontz.com/controllers/ST7735_V2.1_20100505.pdf" target="_top">here.</a></p><p>For a ST7735R datasheet, please refer
<a class="link" href="https://cdn-shop.adafruit.com/datasheets/ST7735R_V0.2.pdf" target="_top">here.</a></p><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    ;Chip Settings
    #chip 16F1937,32
    #config MCLRE_ON

    #include &lt;glcd.h&gt;

    'Defines for ST7735
GLCD_TYPE GLCD_TYPE_ST7735R
    'Pin mappings for ST7735
GLCD_DC porta.0
GLCD_CS porta.1
GLCD_RESET porta.2
GLCD_DI porta.3
GLCD_DO porta.4
GLCD_SCK porta.5

    GLCDPrint(0, 0, "Test of the ST7735 Device")
    end</pre><p><span class="strong"><strong>For more help, see</strong></span>
<a class="link" href="_glcdcls.html" title="GLCDCLS">GLCDCLS</a>, <a class="link" href="_glcddrawchar.html" title="GLCDDrawChar">GLCDDrawChar</a>, <a class="link" href="_glcdprint.html" title="GLCDPrint">GLCDPrint</a>, <a class="link" href="_glcdreadbyte.html" title="GLCDReadByte">GLCDReadByte</a>, <a class="link" href="_glcdwritebyte.html" title="GLCDWriteByte">GLCDWriteByte</a> or <a class="link" href="_pset.html" title="Pset">Pset</a></p><p>Supported in &lt;GLCD.H&gt;</p></div></body></html>