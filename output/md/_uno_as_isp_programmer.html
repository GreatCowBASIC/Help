<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>UNO as ISP programmer</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_tricks_and_tips.html" title="Tricks and Tips"><link rel="prev" href="_tricks_and_tips.html" title="Tricks and Tips"><link rel="next" href="_microcontroller_fundamentals.html" title="Microcontroller Fundamentals"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h3 class="title"><a name="_uno_as_isp_programmer"></a>UNO as ISP programmer</h3></div></div></div><p>So, you have brought some ATtiny88 breakout boards online.&nbsp;&nbsp;
They are advertised as Nano equivalents but are inferior to the Nano in having low RAM (512 bytes vs 2048) and missing some other features.&nbsp;&nbsp;
Specifically the lack of a USB comport for programming.&nbsp;&nbsp;</p><p>The ATtiny88 USB interface only works in Arduino IDE with some tweaking, and, you are not in the mood for learning how to write sketches after being in the GCB environment for years.&nbsp;&nbsp;</p><p>This is an all-in-one tutorial for programming the ATtiny88 via AVRdude using GCB.&nbsp;&nbsp;</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>The only baud rate that works is 19200. Every other baud rate failed in testing</p></div><p>The process described will create a new programmer entry in the GCB Programmer Options to fully automate the compile &amp; program progress.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>This refers to an ATtiny88 but you can use this method for many AVRs which used in conjunction with AvrDude.</p></div><p><span class="strong"><strong>The Process</strong></span></p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Obtain an Arduino UNO or mega.&nbsp;&nbsp;
Upload this <a class="link" href="https://sourceforge.net/p/gcbasic/discussion/chipfileforum/thread/088449090a/ed10/attachment/arduino_As_ISP_adafruit.hex" target="_top">hex file</a> to convert the UNO into an ISP programmer or follow steps 2 -5 below.</li><li class="listitem">Download the Arduino IDE software.&nbsp;&nbsp;
This is used to upload a sketch to the UNO that converts it into an ISP programmer.</li><li class="listitem">Connect the UNO to your PC via USB.&nbsp;&nbsp;
In Arduino IDE goto Tools &#8594; Set board and select "Arduino UNO".&nbsp;&nbsp;
Select the correct com port for the Arduino Uno as show in device manager.</li><li class="listitem">Goto file &#8594; examples &#8594; ArduinoISP to select the sketch that will convert the UNO to an ISP programmer. I found a better(?) working version at adafruit. Simply copy all the text from this link into a new sketch <a class="link" href="https://raw.githubusercontent.com/adafruit/ArduinoISP/master/ArduinoISP.ino" target="_top">https://raw.githubusercontent.com/adafruit/ArduinoISP/master/ArduinoISP.ino</a> (or download the ino file attached and open it in Arduino IDE) and goto step 5</li><li class="listitem">Click upload and confirm the sketch uploaded correctly by checking the status window at the bottom of the Arduino IDE</li><li class="listitem">Build a cable to connect the ISP headers on the UNO and target (ATtiny88) board as described below. Search online for the UNO ISP header pinout, the ISP header happens to be labelled underneath the ATtiny88 breakout board.</li><li class="listitem">Connect pin 10 of the UNO to the reset pin on target ISP header</li><li class="listitem">Connect VCC to VCC, MOSI to MOSI, MISO to MISO, GND to GND, SCK to SCK.</li><li class="listitem">Open Synwrite &#8594; "IDE tools" &#8594; "GCB tools" &#8594; "Edit Programmer preferences", or, in GCStudio "Edit Programmer preferences"</li><li class="listitem">Click "add" and a program editor window opens</li><li class="listitem">Enter name Arduino as ISP or similar</li><li class="listitem">In the "Use if" box paste DEF(AVR)</li><li class="listitem">In the "File" box paste %instdir%..\avrdude\avrdude.exe</li><li class="listitem">In the "command line parameters" paste -c avrisp -p t88 -P %Port% -b 19200 -U flash:w:"%FileName%":a</li><li class="listitem">Select the com port that corresponds to the connected UNO port</li><li class="listitem">Click ok</li></ol></div><p><span class="emphasis"><em>Enter the sample code here into GCB IDE</em></span></p><pre class="screen">    #chip tiny88, 12

    dir portd.0 out

    Do
      set portd.0 on
      wait 500 ms
      set portd.0 off
      wait 500 ms
    Loop</pre><p>Now you can select "Hex/Flash" to upload the code to the Attiny88.&nbsp;&nbsp;
If all goes well the LED should blink on and off every second</p></div></body></html>