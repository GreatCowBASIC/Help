<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>DATA</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_progmem_pfm.html" title="PROGMEM ( PFM )"><link rel="prev" href="_pfmwrite.html" title="PFMWrite"><link rel="next" href="_programerase.html" title="ProgramErase"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h5 class="title"><a name="_data"></a>DATA</h5></div></div></div><p><span class="strong"><strong>Syntax:</strong></span></p><pre class="screen">        DATA DataSetName [as Byte | Word]
            // multiples values, strings etc.
            0,1,2,3
        END DATA</pre><p><span class="strong"><strong>Command Availability:</strong></span></p><p>Available on all PIC microcontrollers with DATA memory.</p><p><span class="strong"><strong>Explanation:</strong></span></p><p>The DATA construct creates an DATA dataset for use with the specific microcontroller.&nbsp;&nbsp;An DATA dataset is a list of values that are stored in the PROGMEM memory of the microcontroller, which then can be accessed using the ProgRead() command or other DATA read operations.</p><p>The advantage of an DATA dataset is that they are memory efficient being loaded directly into the DATA during programming operations.</p><p>DATA datasets are defined as follows:</p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem">Byte or Word values,</li><li class="listitem">Multiple numeric elements on a single line separated by commas,</li><li class="listitem">Constants and calculations within the single line dataset entries are permitted,</li><li class="listitem">Decimal values are NOT supported,</li><li class="listitem">Access is via ProgRead().
<br>
<br></li></ol></div><p><span class="strong"><strong>Defining DATA datasets</strong></span></p><p><span class="emphasis"><em>Single data values</em></span></p><p>A single value on each line with in the dataset.&nbsp;&nbsp;The example dataset, shown below, has the data on different line in within the set.</p><p>Simple example: This creates an DATA dataset at the first DATA location, then, the values of 12, 24, &#8230;&#8203; 72 are the consecutive values.</p><pre class="screen">        DATA EEDataSet as Byte
            12
            24
            36
            48
            60
            72
        End DATA</pre><p><span class="emphasis"><em>Multiple data values of the same line</em></span></p><p>The following example creates the DATA dataset at DATA offset address of 0x10.&nbsp;&nbsp;</p><p>Multiple elements on a single line separated by commas.&nbsp;&nbsp;The example dataset, shown below, has the data separated by <code class="literal">,</code> and on different line in within the dataset.</p><pre class="screen">        DATA EEDataSource  as Byte
            12,  24, 36
            48,  60, 72
        End DATA</pre><p><span class="emphasis"><em>Data values as constants, and, with data transformation</em></span></p><p>Constants and calculations within the single line.  &nbsp;&nbsp;The example dataset, shown below, uses a defined constant to multiple the data with the dataset.</p><pre class="screen">        #define calculation_constant 2

        DATA EEDataSource as Word
        1 * calculation_constant
        2 * calculation_constant
        3 * calculation_constant
        8 * calculation_constant
        4 * calculation_constant
        5 * calculation_constant
        End DATA</pre><p>&nbsp;&nbsp;
&nbsp;&nbsp;</p><p><span class="emphasis"><em>Data values as Strings</em></span></p><p>Strings can be defined.&nbsp;&nbsp;Strings are delimited by double quotes. &nbsp;&nbsp; The following examples show the methods.</p><p>Any ASCII characters between any two "    " (double quotes) will be converted to dataset data.&nbsp;&nbsp; Also see ASCII escape codes.</p><p>A source string can be one string per line or comma separated strings, therefore, on the same line.</p><p>Example:</p><pre class="screen">    DATA Test_1 as Byte
     "ABCDEFGHIJ"
    End DATA</pre><p><span class="emphasis"><em>ASCII Escape code</em></span></p><p>Accepted escape strings are shown in the dataset below.</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th align="left" valign="top">Escape sequence</th><th align="left" valign="top">Meaning</th></tr></thead><tbody><tr><td align="left" valign="top"><p>\a</p></td><td align="left" valign="top"><p>beep</p></td></tr><tr><td align="left" valign="top"><p>\b</p></td><td align="left" valign="top"><p>backspace</p></td></tr><tr><td align="left" valign="top"><p>\f</p></td><td align="left" valign="top"><p>formfeed</p></td></tr><tr><td align="left" valign="top"><p>\l or \n</p></td><td align="left" valign="top"><p>newline</p></td></tr><tr><td align="left" valign="top"><p>\r</p></td><td align="left" valign="top"><p>carriage return</p></td></tr><tr><td align="left" valign="top"><p>\t</p></td><td align="left" valign="top"><p>tab</p></td></tr><tr><td align="left" valign="top"><p>\0</p></td><td align="left" valign="top"><p>Null value, equates to ASCII 0. Same as \&amp;000</p></td></tr><tr><td align="left" valign="top"><p>\&amp;nnn</p></td><td align="left" valign="top"><p>ascii char in decimal</p></td></tr><tr><td align="left" valign="top"><p>\\</p></td><td align="left" valign="top"><p>backslash</p></td></tr><tr><td align="left" valign="top"><p>\"</p></td><td align="left" valign="top"><p>double quote</p></td></tr><tr><td align="left" valign="top"><p>\'</p></td><td align="left" valign="top"><p>single quote</p></td></tr></tbody></table></div><p><span class="strong"><strong>Complete working example program</strong></span></p><p>This example creates several DATA datasets.&nbsp;&nbsp;The example also create a lookup table.&nbsp;&nbsp;The DATA dataset are addressed with the additional parameter to ensure there is no DATA dataset overlap.&nbsp;&nbsp;</p><pre class="screen">        #chip 16F886
        #option explicit

        #DEFINE USART_BAUD_RATE 9600
        #DEFINE USART_TX_BLOCKING
        #DEFINE USART_DELAY OFF

        Dim dataaddress, datavalue as Byte

        DATA DataSet1 as Byte
            3,2,1
        End DATA

        DATA VersionData as Byte
        "    PWM2Laser   "
        "  Fabrice ENGEL "
        "   Version 1.4  "
        "  November 2023 "
        End DATA

        For dataaddress = 0 to 2
            ProgramRead  ( @DataSet1 + dataaddress , datavalue )
            HserPrint datavalue
        Next</pre><p><span class="strong"><strong>For more help, see <a class="link" href="">ProgramRead</a>, <a class="link" href="_lookup_tables.html" title="Lookup Tables">Creating DATA data from a Lookup Table</a></strong></span></p></div></body></html>