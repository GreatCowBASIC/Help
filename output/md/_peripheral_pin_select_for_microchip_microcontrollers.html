<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Peripheral Pin Select for Microchip microcontrollers.</title><link rel="stylesheet" type="text/css" href="gcbdoc.css"><meta name="generator" content="DocBook XSL Stylesheets V1.78.1"><link rel="home" href="index.html" title="GCBASIC documentation"><link rel="up" href="_peripheral_pin_select.html" title="Peripheral Pin Select"><link rel="prev" href="_peripheral_pin_select.html" title="Peripheral Pin Select"><link rel="next" href="_unlockpps.html" title="UnLockPPS"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="section"><div class="titlepage"><div><div><h4 class="title"><a name="_peripheral_pin_select_for_microchip_microcontrollers"></a>Peripheral Pin Select for Microchip microcontrollers.</h4></div></div></div><p><span class="strong"><strong>Introduction:</strong></span></p><p>Peripheral Pin Select (PPS) enables the digital peripheral I/O pins to be changed to support mapping of external pins to different pins.</p><p>In older 8-bit Microchip devices, a peripheral was hard-wired to a specific pin (example: PWM1 output on pin RC5).</p><p>PPS allows you to choose from a number of output and input pins to connect to the digital peripheral.</p><p>This can be extremely useful for routing circuit boards.</p><p>There are cases where a change of I/O position can make a circuit board easier to route Sometimes mistakes are found too late to fix so having the option to change a pinout mapping in software rather than creating a new printed circuit board can be very helpful.</p><p>You <span class="strong"><strong>must</strong></span> use the command <code class="literal">UnLockPPS</code> to enable setting of the PPS if the PPS have been previously locked, and, you can, optionally,  use <code class="literal">LockPPS</code> to prevent unintentional change to PPS settings.</p><p>GCBASIC includes these two macros to ensure this process is handled correctly.</p><p>Also, see <a class="link" href="http://microchip.wikidot.com/8bit:pps" target="_top">http://microchip.wikidot.com/8bit:pps</a> for more information.</p><p><span class="strong"><strong>Example:</strong></span></p><pre class="screen">    'Please check configuration before using on an alternative microcontroller.

    #chip 16f18855,32
    #option explicit

    'Set the PPS of the I2C and the RS232 ports.
    #startup InitPPS, 85
    Sub InitPPS
      LOCKPPS
        RC0PPS = 0x0010       'RC0-&gt;EUSART:TX;
        RXPPS  = 0x0011       'RC1-&gt;EUSART:RX;

        SSP1CLKPPS = 0x14     'RC3-&gt;MSSP1:SCL1;
        SSP1DATPPS = 0x13     'RC4-&gt;MSSP1:SDA1;
        RC3PPS = 0x15         'RC3-&gt;MSSP1:SCL1;
        RC4PPS = 0x14         'RC4-&gt;MSSP1:SDA1;
      UnLockPPS
    End Sub</pre><p><span class="strong"><strong>For more help, see: <a class="link" href="_unlockpps.html" title="UnLockPPS">UnlockPPS</a> and <a class="link" href="_lockpps.html" title="LockPPS">LockPPS</a>.</strong></span></p></div></body></html>